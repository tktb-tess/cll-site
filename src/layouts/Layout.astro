---
import '../styles/globals.css';
import Head from './Head.astro';
import Loads from '../components/Loads.astro';
import XNavigator from '../components/XNavigator.astro';
import OGP from '../components/OGP.astro';
import ToTopBtn from '../components/ToTopBtn.astro';
import data from '../modules/data.json';

interface Props {
  readonly title: string;
  readonly url: string;
  readonly description?: string;
}

const { title, url, description } = Astro.props;
const index = data.findIndex((k) => k.url === url);
const prev = index > 0 ? data.at(index - 1) : undefined;
const next =
  index >= 0 && index < data.length - 1 ? data.at(index + 1) : undefined;
---

<Head {title} {url} {description}>
  <header class='flex flex-col gap-2 px-4 my-6 *:my-0 [&_a]:font-normal'>
    <XNavigator {prev} {next} />
  </header>
  <hr />
  <main>
    <h1 id='title'>
      {title}
    </h1>
    <slot />
  </main>
  <hr />
  <footer class='flex flex-col gap-2 px-4 my-6 *:my-0 [&_a]:font-normal'>
    <XNavigator {prev} {next} />
  </footer>
  <ToTopBtn />
</Head>
